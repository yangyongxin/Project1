package com.greentree.activity;import android.app.Activity;import android.content.Context;import android.content.Intent;import android.content.SharedPreferences;import android.os.Bundle;import android.support.v4.view.ViewPager;import android.view.View;import android.view.ViewGroup;import android.widget.Button;import android.widget.ImageView;import android.widget.LinearLayout;import com.greentree.R;import com.greentree.adapter.GuideAdapter;import com.lidroid.xutils.ViewUtils;import com.lidroid.xutils.view.annotation.ContentView;import com.lidroid.xutils.view.annotation.ViewInject;import java.util.ArrayList;import java.util.List;@ContentView(R.layout.activity_guide)public class GuideActivity extends Activity {    @ViewInject(R.id.vp_guide)    private ViewPager vpGuide;    private Integer[] imageIds = {R.drawable.g1, R.drawable.g2, R.drawable.g3};    private List<ImageView> data;    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        ViewUtils.inject(this);        initData();    }    private void initData() {        data = new ArrayList<ImageView>();        ImageView imageView;        ViewGroup.LayoutParams params;        for (int i = 0; i < imageIds.length; i++) {            imageView = new ImageView(this);            imageView.setImageResource(imageIds[i]);            params = new ViewGroup.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.MATCH_PARENT);            imageView.setLayoutParams(params);            imageView.setScaleType(ImageView.ScaleType.FIT_XY);            if (i == imageIds.length - 1) {                imageView.setOnClickListener(new View.OnClickListener() {                    @Override                    public void onClick(View v) {                        goHomePage();                    }                });            }            data.add(imageView);        }        GuideAdapter adapter = new GuideAdapter(this, data);        vpGuide.setAdapter(adapter);    }    private void goHomePage() {        SharedPreferences preferences = getSharedPreferences("config", Context.MODE_PRIVATE);        preferences.edit().putBoolean("isFirstRun", false).commit();        startActivity(new Intent(this, HomeAcitvity.class));        finish();    }}